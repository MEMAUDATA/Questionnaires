<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SF12</title>
<style>
 body {
    font-family: Montserrat, sans-serif;
    color:black;
    }

    table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    margin-bottom: 20px;
    margin-left: auto;
    margin-right: auto;
    border: 1px solid #eeeeee;
    }


    th, td {
    padding: 5px;
    text-align: center;
    border: 1px solid #eeeeee;
    color:black !important;
    }

    .question-main {
    background-color: #eeeeee;
    font-weight: bold;
    color:black !important;
    }


    input[type="radio"] {
    margin: 5px;
    }


    .buttons-container {
    text-align: center;
    margin-top: 30px;
    }
    .buttons-container button {
    padding: 12px 25px;
    margin: 0 10px;
    font-size: 17px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
    background-color: #eeeeee;

    }

    .buttons-container button:hover {
    background-color: #0056b3;
    color : white;
    }

    #result { /* Correction ici : cibler l'ID directement */
    text-align: center;
    font-size: 20px;
    margin-top: 30px;
    border: 1px solid #eeeeee;
    background-color: #eeeeee;
    padding: 15px;
    display: none;
    border-radius: 5px;
    padding: 15px;
    }

    ul.myList {
    display: inline-block;
    text-align: left;
    }

</style>
</head>
<body>   
<h1 style="text-align: center;">Questionnaire d'état de santé SF-12 (version 2.0)</h1>
<p style="text-align: center;"> Ware et al., 1996 </p>
<p style="text-align: center;"><b>Attention</b></p>
<p style="text-align: center;"> Ce questionnaire est un questionnaire propriétaire. Afin d'obtenir les scores PCS et MCS , il faut, au préalable, obtenir une licence (accordée à titre gracieux pour les études scientifiques) auprès de <a href= "https://www.qualitymetric.com/"> QualityMetric.</a> </p>
<br>
<p style="text-align: center;"><b>COMMENT REPONDRE</b></p>
<p style="text-align: center;">Les questions, qui suivent, portent sur votre état de santé tel que vous le ressentez. Ces informations nous permettront de mieux savoir comment vous vous sentez dans la vie de tous les jours. <b>Veuillez répondre à toutes les questions</b> en cochant la case correspondant à la réponse choisie. Si vous ne savez pas très bien comment répondre, choisissez la réponse la plus adaptée à votre situation.</p>
<br>
<form id="SF12">

<table>
<tbody>
    <tr>
    <td colspan="5" class="question-main">
        1. Dans l'ensemble, pensez-vous que votre santé est :
    </td>
    </tr>
    <tr>
    <td><label><input type="radio" name="q1" value="5"> Excellente</label></td>
    <td><label><input type="radio" name="q1" value="4"> Très bonne</label></td>
    <td><label><input type="radio" name="q1" value="3"> Bonne</label></td>
    <td><label><input type="radio" name="q1" value="2"> Médiocre</label></td>
    <td><label><input type="radio" name="q1" value="1"> Mauvaise</label></td>
    </tr>
</tbody>
</table>

<table>
<thead>
    <tr>
    <th colspan="4" class="question-main">
        2. Voici une liste d'activités que vous pouvez avoir à faire dans votre vie de tous les jours. Pour chacune d'entre elles indiquez si vous êtes limité(e) en raison de votre état de santé actuel.
    </th>
    </tr>
    <tr>
    <th style="text-align: center;color:black; ">Listes d'activités</th>
    <th class="response-options">Oui, beaucoup limité(e)</th>
    <th class="response-options">Oui, un peu limité(e)</th>
    <th class="response-options">Non, Pas du tout limité(e)</th>
    </tr>
</thead>
<tbody>
    <tr>
    <td class="question-sub">a. Efforts physiques importants tels que courir, soulever un objet lourd, faire du sport</td>
    <td class="flex-center"><label><input type="radio" name="q2a" value="1"></label></td>
    <td class="flex-center"><label><input type="radio" name="q2a" value="2"></label></td>
    <td class="flex-center"><label><input type="radio" name="q2a" value="3"></label></td>
    </tr>
    <tr>
    <td class="question-sub">b. Marcher plus d'un kilomètre à pied</td>
    <td class="flex-center"><label><input type="radio" name="q2b" value="1"></label></td>
    <td class="flex-center"><label><input type="radio" name="q2b" value="2"></label></td>
    <td class="flex-center"><label><input type="radio" name="q2b" value="3"></label></td>
    </tr>
</tbody>
</table>

<table>
<thead>
    <tr>
    <th colspan="3" class="question-main">
        3. Au cours de ces 4 dernières semaines, et en raison de votre état physique :
    </th>
    </tr>
    <tr>
    <th></th>
    <th class="response-options">OUI</th>
    <th class="response-options">NON</th>
    </tr>
</thead>
<tbody>
    <tr>
    <td class="question-sub">a. Avez-vous réduit le temps passé à votre travail ou à vos activités habituelles ?</td>
    <td class="flex-center"><label><input type="radio" name="q3a" value="0"></label></td>
    <td class="flex-center"><label><input type="radio" name="q3a" value="1"></label></td>
    </tr>
    <tr>
    <td class="question-sub">b. Avez-vous accompli moins de choses que vous auriez souhaitées ?</td>
    <td class="flex-center"><label><input type="radio" name="q3b" value="0"></label></td>
    <td class="flex-center"><label><input type="radio" name="q3b" value="1"></label></td>
    </tr>
</tbody>
</table>

<table>
<tbody>
    <tr>
    <td colspan="6" class="question-main">
        4. Au cours de ces 4 dernières semaines, quelle a été l'intensité de vos douleurs physiques ?
    </td>
    </tr>
    <tr>
    <td><label><input type="radio" name="q4" value="6"> Nulle</label></td>
    <td><label><input type="radio" name="q4" value="5"> Très faible</label></td>
    <td><label><input type="radio" name="q4" value="4"> Faible</label></td>
    <td><label><input type="radio" name="q4" value="3"> Moyenne</label></td>
    <td><label><input type="radio" name="q4" value="2"> Grande</label></td>
    <td><label><input type="radio" name="q4" value="1"> Très grande</label></td>
    </tr>
</tbody>
</table>

<table>
<tbody>
    <tr>
    <td colspan="5" class="question-main">
        5. Je m'attends à ce que ma santé se dégrade :
    </td>
    </tr>
    <tr>
    <td><label><input type="radio" name="q5" value="1"> Totalement vrai</label></td>
    <td><label><input type="radio" name="q5" value="2"> Plutôt vrai</label></td>
    <td><label><input type="radio" name="q5" value="3"> Je ne sais pas</label></td>
    <td><label><input type="radio" name="q5" value="4"> Plutôt faux</label></td>
    <td><label><input type="radio" name="q5" value="5"> Totalement faux</label></td>
    </tr>
</tbody>
</table>

<table>
<tbody>
    <tr>
    <td colspan="7" class="question-main">
        6. Au cours de ces 4 dernières semaines, y a-t-il eu des moments où : Vous vous êtes senti(e) dynamique ?
    </td>
    </tr>
    <tr>
    <td><label><input type="radio" name="q6" value="6"> En permanence</label></td>
    <td><label><input type="radio" name="q6" value="5"> Très souvent</label></td>
    <td><label><input type="radio" name="q6" value="4"> Souvent</label></td>
    <td><label><input type="radio" name="q6" value="3"> Quelquefois</label></td>
    <td><label><input type="radio" name="q6" value="2"> Rarement</label></td>
    <td><label><input type="radio" name="q6" value="1"> Jamais</label></td>
    </tr>
</tbody>
</table>

<table>
<tbody>
    <tr>
    <td colspan="5" class="question-main">
        7. Au cours de ces 4 dernières semaines, dans quelle mesure votre état de santé, physique ou émotionnel, vous a-t-il gêné dans votre vie sociale et vos relations avec les autres, votre famille, vos amis, vos connaissances ?
    </td>
    </tr>
    <tr>
    <td><label><input type="radio" name="q7" value="5"> Pas du tout</label></td>
    <td><label><input type="radio" name="q7" value="4"> Un petit peu</label></td>
    <td><label><input type="radio" name="q7" value="3"> Moyennement</label></td>
    <td><label><input type="radio" name="q7" value="2"> Beaucoup</label></td>
    <td><label><input type="radio" name="q7" value="1"> Enormément</label></td>
    </tr>
</tbody>
</table>

<table>
<thead>
    <tr>
    <th colspan="3" class="question-main">
        8. Au cours de ces 4 dernières semaines, et en raison de votre état émotionnel (comme vous sentir triste, nerveux (se) ou déprimé(e) :
    </th>
    </tr>
    <tr>
    <th></th>
    <th class="response-options">OUI</th>
    <th class="response-options">NON</th>
    </tr>
</thead>
<tbody>
    <tr>
    <td class="question-sub">a. Avez-vous réduit le temps passé à votre travail ou à vos activités habituelles ?</td>
    <td class="flex-center"><label><input type="radio" name="q8a" value="1"></label></td>
    <td class="flex-center"><label><input type="radio" name="q8a" value="2"></label></td>
    </tr>
    <tr>
    <td class="question-sub">b. Avez-vous accompli moins de choses que vous auriez souhaitées ?</td>
    <td class="flex-center"><label><input type="radio" name="q8b" value="1"></label></td>
    <td class="flex-center"><label><input type="radio" name="q8b" value="2"></label></td>
    </tr>
</tbody>
</table>

<table>
<tbody>
    <tr>
    <td colspan="7" class="question-main">
        9. Au cours de ces 4 dernières semaines, y a-t-il eu des moments où : Vous vous êtes senti(e) calme et détendu(e) ?
    </td>
    </tr>
    <tr>
    <td><label><input type="radio" name="q9" value="6"> En permanence</label></td>
    <td><label><input type="radio" name="q9" value="5"> Très souvent</label></td>
    <td><label><input type="radio" name="q9" value="4"> Souvent</label></td>
    <td><label><input type="radio" name="q9" value="3"> Quelquefois</label></td>
    <td><label><input type="radio" name="q9" value="2"> Rarement</label></td>
    <td><label><input type="radio" name="q9" value="1"> Jamais</label></td>
    </tr>
</tbody>
</table>

<table>
<tbody>
    <tr>
    <td colspan="7" class="question-main">
        10. Au cours de ces 4 dernières semaines, y a-t-il eu des moments où : Vous vous êtes senti(e) triste et abattu(e) ?
    </td>
    </tr>
    <tr>
    <td><label><input type="radio" name="q10" value="1"> En permanence</label></td>
    <td><label><input type="radio" name="q10" value="2"> Très souvent</label></td>
    <td><label><input type="radio" name="q10" value="3"> Souvent</label></td>
    <td><label><input type="radio" name="q10" value="4"> Quelquefois</label></td>
    <td><label><input type="radio" name="q10" value="5"> Rarement</label></td>
    <td><label><input type="radio" name="q10" value="6"> Jamais</label></td>
    </tr>
</tbody>
</table>

<table>
<tbody>
    <tr>
    <td colspan="7" class="question-main">
        11. Au cours de ces 4 dernières semaines, y a-t-il eu des moments où : Vous vous êtes senti(e) épuisé(e) ?
    </td>
    </tr>
    <tr>
    <td><label><input type="radio" name="q11" value="1"> En permanence</label></td>
    <td><label><input type="radio" name="q11" value="2"> Très souvent</label></td>
    <td><label><input type="radio" name="q11" value="3"> Souvent</label></td>
    <td><label><input type="radio" name="q11" value="4"> Quelquefois</label></td>
    <td><label><input type="radio" name="q11" value="5"> Rarement</label></td>
    <td><label><input type="radio" name="q11" value="6"> Jamais</label></td>
    </tr>
</tbody>
</table>

<table>
<tbody>
    <tr>
    <td colspan="5" class="question-main">
        12. Par rapport à l'année dernière à la même époque, comment trouvez-vous votre état de santé en ce moment ?
    </td>
    </tr>
    <tr>
    <td class="flex-center"><label><input type="radio" name="q12" value="5">Bien meilleur que l'an dernier</label></td>
    <td class="flex-center"><label><input type="radio" name="q12" value="4"> Plutôt meilleur que l'an dernier</label></td>
    <td class="flex-center"><label><input type="radio" name="q12" value="3"> À peu près pareil</label></td>
    <td class="flex-center"><label><input type="radio" name="q12" value="2"> Plutôt moins bon</label></td>
    <td class="flex-center"><label><input type="radio" name="q12" value="1"> Beaucoup moins bon</label></td>
    </tr>
</tbody>
</table>

<div class="buttons-container">
    <button type="button" onclick="calculateScore()">Calculer le score</button>
    <button type="reset" onclick="resetForm()">Réinitialiser</button>
    </div>

<div id="result"></div>
</form>

<script>
function calculateScore() {
    const form = document.getElementById('SF12');
    let answeredQuestionsCount = 0;
    const totalQuestions = 15; // Total individual radio button inputs to validate

    const getRadioValue = (name) => {
        const radios = form.elements[name];
        if (radios) {
        let checkedValue = null;
        for (let i = 0; i < radios.length; i++) {
            if (radios[i].checked) {
            checkedValue = parseInt(radios[i].value);
            answeredQuestionsCount++; // Increment count for each answered input
            break;
            }
        }
        return checkedValue; // Return null if not answered
        }
        return null; // Return null if radios element not found
    };

    // Collect raw scores for each individual item (as per HTML value attributes)
    const q1 = getRadioValue('q1');
    const q2a = getRadioValue('q2a');
    const q2b = getRadioValue('q2b');
    const q3a = getRadioValue('q3a');
    const q3b = getRadioValue('q3b');
    const q4 = getRadioValue('q4');
    const q5 = getRadioValue('q5');
    const q6 = getRadioValue('q6');
    const q7 = getRadioValue('q7');
    const q8a = getRadioValue('q8a');
    const q8b = getRadioValue('q8b');
    const q9 = getRadioValue('q9');
    const q10 = getRadioValue('q10');
    const q11 = getRadioValue('q11');
    const q12 = getRadioValue('q12');

    // Check if all questions are answered
    if (!allAnswered) {
        document.getElementById("result").innerHTML = "<p style='text-align: center; color: red;'>Veuillez répondre à toutes les questions!</p>";
        document.getElementById("result").style.display = "block";
        return; 
    }


    let rawPF = q2a + q2b;
    let rawRP = q3a + q3b;
    let rawBP = q4; 
    let rawGH = q1 + q5; 
    let rawVT = q6 + q11;
    let rawSF = q7;
    let rawRE = q8a + q8b;
    let rawMH = q9 + q10;

    // Normalize scores	
    let nscorePF = 0;
    let nscoreRP = 0;
    let nscoreBP = 0;
    let nscoreGH = 0;
    let nscoreVT = 0;
    let nscoreSF = 0;
    let nscoreRE = 0;
    let nscoreMH = 0;
    let nscoreHT = 0;


    if (scorePF > 0) { nscorePF = ((scorePF - 10) / 20)* 100};
    if (scoreRP > 0) { nscoreRP = ((scoreRP - 4) / 4)* 100};
    if (scoreBP > 0) { nscoreBP = ((scoreBP - 2) / 10) * 100};
    if (scoreGH > 0) { nscoreGH = ((scoreGH - 5) / 20) * 100};
    if (scoreVT > 0) { nscoreVT = ((scoreVT - 4) / 20) * 100};
    if (scoreSF > 0) { nscoreSF = ((scoreSF - 2) / 8) * 100};
    if (scoreRE > 0) { nscoreRE = ((scoreRE - 3) / 3) * 100};
    if (scoreMH > 0) { nscoreMH = ((scoreMH - 5) / 25) * 100};
    if (scoreHT > 0) { nscoreHT = ((scoreHT - 1) / 4) * 100};


    // Check if all questions are answered
    if (!allAnswered) {
        document.getElementById("result").innerHTML = "<p style='text-align: center; color: red;'>Veuillez répondre à toutes les questions!</p>";
        document.getElementById("result").style.display = "block";
        return;
    }

    display(nscoreGH, nscorePF, nscoreBP, nscoreRP, nscoreVT, nscoreSF, nscoreRE, nscoreMH, nscoreHT);
    } // end calculateScore function

    function  display(nscoreGH, nscorePF, nscoreBP, nscoreRP, nscoreVT, nscoreSF, nscoreRE, nscoreMH, nscoreHT){
        const resultsDiv = document.getElementById("result");
        let displayHtml = "<p style='text-align: center;'>Résultats</p>";
        displayHtml += "<br>";
        displayHtml += "<p> Les scores vont de 0 (faible niveau qualité de vie) à 100 (niveau très élevé).</p>"; 
        displayHtml += "<ul class='myList'>";
        displayHtml += "<li>Santé Générale (GH) : " + nscoreGH.toFixed(2) + "</li>";
        displayHtml += "<li>Activité physique (PF) : " + nscorePF.toFixed(2) + "</li>";
        displayHtml += "<li>Limitations dues à l’état physique (RP) : " + nscoreRP.toFixed(2) + "</li>";
        displayHtml += "<li>Douleurs physiques (BP) : " + nscoreBP.toFixed(2) + "</li>";
        displayHtml += "<li>Vitalité (VT) : " + nscoreVT.toFixed(2) + "</li>";
        displayHtml += "<li>Vie et relation avec les autres (SF) : " + nscoreSF.toFixed(2) + "</li>";
        displayHtml += "<li>Limitations dues à l’état psychique (RE) : " + nscoreRE.toFixed(2) + "</li>";
        displayHtml += "<li>Santé psychique (MH) : " + nscoreMH.toFixed(2) + "</li>";
        displayHtml += "<li>Évolution de la santé perçue (HT) : " + nscoreHT.toFixed(2) + "</li>";
        displayHtml += "</ul>";

        resultsDiv.innerHTML = displayHtml;
        resultsDiv.style.display = "block";
    }


     function resetForm() {
        document.getElementById("SF12").reset();
        const resultsDiv = document.getElementById("result");
        resultsDiv.innerHTML = "";
        resultsDiv.style.display = "none";
    }


</script>
</body>
</html>