<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SF8</title>
<style>
        body {
        font-family: Montserrat, sans-serif;
        color:black;
        }

        table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        margin-bottom: 20px;
        margin-left: auto;
        margin-right: auto;
        border: 1px solid #eeeeee;
        }


        th, td {
        padding: 5px;
        text-align: center;
        border: 1px solid #eeeeee;
        }

        .question-main {
        background-color: #eeeeee;
        font-weight: bold;
        font-size: 1.1em;
        }


        input[type="radio"] {
        margin: 5px; 
        }


        .buttons-container {
        text-align: center;
        margin-top: 30px;
        }
        .buttons-container button {
        padding: 12px 25px;
        margin: 0 10px;
        font-size: 17px;
        cursor: pointer;
        border: none;
        border-radius: 5px;
        background-color: #eeeeee;

        }

        .buttons-container button:hover {
        background-color: #0056b3;
        color : white;
        }

        #result { /* Correction ici : cibler l'ID directement */
        text-align: center;
        font-size: 20px;
        margin-top: 30px;
        border: 1px solid #eeeeee;
        background-color: #eeeeee;
        padding: 15px;
        display: none;
        border-radius: 5px;
        padding: 15px;
        }

        ul.myList {
        display: inline-block;
        text-align: left;
        }

</style>
</head>
<body>

<h1 style="text-align: center;">Questionnaire d'état de santé SF8</h1>
<p style="text-align: center;">Ware et al., 2001</p>
<p style="text-align: center;"><b>Attention</b></p>
<p style="text-align: center;"> Ce questionnaire est un questionnaire propriétaire. Afin d'obtenir les scores PCS et MCS , il faut, au préalable, obtenir une licence (accordée à titre gracieux pour les études scientifiques) auprès de <a href= "https://www.qualitymetric.com/"> QualityMetric.</a> </p>

<p style="text-align: center;"><b>COMMENT RÉPONDRE</b></p>
<p style="text-align: center;">Les questions qui suivent portent sur votre état de santé tel que vous le ressentez. Ces informations nous permettront de mieux savoir comment vous vous sentez dans la vie de tous les jours. <b>Veuillez répondre à toutes les questions</b> en cochant la case correspondant à la réponse choisie. Si vous ne savez pas très bien comment répondre, choisissez la réponse la plus adaptée à votre situation.</p>
<br>

<form id="SF8">
<table>
<tbody>
<tr>
<td colspan="5" class="question-main">
    1. Dans l'ensemble, pensez-vous que votre santé est :
</td>
</tr>
<tr>
<td><label><input type="radio" name="q1" value="5"> Excellente</label></td>
<td><label><input type="radio" name="q1" value="4"> Très bonne</label></td>
<td><label><input type="radio" name="q1" value="3"> Bonne</label></td>
<td><label><input type="radio" name="q1" value="2"> Médiocre</label></td>
<td><label><input type="radio" name="q1" value="1"> Mauvaise</label></td>
</tr>
</tbody>
</table>

<table>
<tbody>
<tr>
<td colspan="3" class="question-main">
    2. Votre état de santé actuel vous limite-t-il pour : Courir, soulever un objet lourd, faire du sport ?
</td>
</tr>
<tr>
<td><label><input type="radio" name="q2" value="1"> Oui, beaucoup</label></td>
<td><label><input type="radio" name="q2" value="2"> Oui, un peu</label></td>
<td><label><input type="radio" name="q2" value="3"> Non, pas du tout</label></td>
</tr>
</tbody>
</table>

<table>
<tbody>
<tr>
<td colspan="2" class="question-main">
    3. Au cours de ces 4 dernières semaines, avez-vous réduit le temps passé à votre travail ou à vos activités habituelles en raison de votre état physique ?
</td>
</tr>
<tr>
<td><label><input type="radio" name="q3" value="0"> Oui</label></td>
<td><label><input type="radio" name="q3" value="1"> Non</label></td>
</tr>
</tbody>
</table>

<table>
<tbody>
<tr>
<td colspan="6" class="question-main">
    4. Au cours de ces 4 dernières semaines, quelle a été l'intensité de vos douleurs physiques ?
</td>
</tr>
<tr>
<td><label><input type="radio" name="q4" value="6"> Nulle</label></td>
<td><label><input type="radio" name="q4" value="5"> Très faible</label></td>
<td><label><input type="radio" name="q4" value="4"> Faible</label></td>
<td><label><input type="radio" name="q4" value="3"> Moyenne</label></td>
<td><label><input type="radio" name="q4" value="2"> Grande</label></td>
<td><label><input type="radio" name="q4" value="1"> Très grande</label></td>
</tr>
</tbody>
</table>

<table>
<tbody>
<tr>
<td colspan="6" class="question-main">
    5. Au cours de ces 4 dernières semaines, y a-t-il eu des moments où : Vous vous êtes senti(e) dynamique ?
</td>
</tr>
<tr>
<td><label><input type="radio" name="q5" value="6"> En permanence</label></td>
<td><label><input type="radio" name="q5" value="5"> Très souvent</label></td>
<td><label><input type="radio" name="q5" value="4"> Souvent</label></td>
<td><label><input type="radio" name="q5" value="3"> Quelquefois</label></td>
<td><label><input type="radio" name="q5" value="2"> Rarement</label></td>
<td><label><input type="radio" name="q5" value="1"> Jamais</label></td>
</tr>
</tbody>
</table>

<table>
<tbody>
<tr>
<td colspan="5" class="question-main">
    6. Au cours de ces 4 dernières semaines, dans quelle mesure votre état de santé, physique ou émotionnel, vous a-t-il gêné dans votre vie sociale et vos relations avec les autres, votre famille, vos amis, vos connaissances ?
</td>
</tr>
<tr>
<td><label><input type="radio" name="q6" value="5"> Pas du tout</label></td>
<td><label><input type="radio" name="q6" value="4"> Un petit peu</label></td>
<td><label><input type="radio" name="q6" value="3"> Moyennement</label></td>
<td><label><input type="radio" name="q6" value="2"> Beaucoup</label></td>
<td><label><input type="radio" name="q6" value="1"> Énormément</label></td>
</tr>
</tbody>
</table>

<table>
<tbody>
<tr>
<td colspan="2" class="question-main">
    7. Au cours de ces 4 dernières semaines, avez-vous réduit le temps passé à votre travail ou à vos activités habituelles en raison de votre état émotionnel ?
</td>
</tr>
<tr>
<td><label><input type="radio" name="q7" value="0"> Oui</label></td>
<td><label><input type="radio" name="q7" value="1"> Non</label></td>
</tr>
</tbody>
</table>

<table>
<tbody>
<tr>
<td colspan="6" class="question-main">
    8. Au cours de ces 4 dernières semaines, y a-t-il eu des moments où : Vous vous êtes senti(e) triste et abattu(e) ?
</td>
</tr>
<tr>
<td><label><input type="radio" name="q8" value="1"> En permanence</label></td>
<td><label><input type="radio" name="q8" value="2"> Très souvent</label></td>
<td><label><input type="radio" name="q8" value="3"> Souvent</label></td>
<td><label><input type="radio" name="q8" value="4"> Quelquefois</label></td>
<td><label><input type="radio" name="q8" value="5"> Rarement</label></td>
<td><label><input type="radio" name="q8" value="6"> Jamais</label></td>
</tr>
</tbody>
</table>

<div class="buttons-container">
<button type="button" onclick="calculateScore()">Calculer le score</button>
<button type="reset" onclick="resetForm()">Réinitialiser</button>
</div>



<div id="result"></div>
</form>

<script>

    function calculateScore(){
        let scoreGH = 0;
        let scorePF = 0;
        let scoreRP = 0;
        let scoreBP = 0;
        let scoreVT = 0;
        let scoreSF = 0;
        let scoreRE = 0;
        let scoreMH = 0;

        const form = document.getElementById('SF8');
        let answeredQuestions = {};
        const questionNames = ['q1', 'q2', 'q3', 'q4', 'q5', 'q6', 'q7', 'q8'];
        let allAnswered = true;

        const getRadioValue = (name) => {
        const radios = form.elements[name];
        if (radios) {
            for (let i = 0; i < radios.length; i++) {
                if (radios[i].checked) {
                answeredQuestions[name] = true;
                return parseInt(radios[i].value);
                }
            }
        }
        answeredQuestions[name] = false;
        allAnswered = false;
        return null; // Return null if no option is selected for a question
        };

    // Get raw scores for each question
    const scores = {};
    questionNames.forEach(name => {scores[name] = getRadioValue(name);});

    // Get score before normalisation
    scoreGH = scores.q1;
    scorePF = scores.q2;
    scoreRP = scores.q3;
    scoreBP = scores.q4;
    scoreVT = scores.q5;
    scoreSF = scores.q6;
    scoreRE = scores.q7;
    scoreMH = scores.q8;


    if (!allAnswered) {
    document.getElementById("result").innerHTML = "<p style='text-align: center; color: red;'>Veuillez répondre à toutes les questions!</p>";
    document.getElementById("result").style.display = "block";
    return; 
    }

    display (scoreGH,scorePF,scoreBP,scoreRP,scoreVT,scoreSF,scoreRE,scoreMH);
    } // end function

    function  display (scoreGH,scorePF,scoreRP,scoreBP,scoreVT,scoreSF,scoreRE,scoreMH){

        let displayHtml = "<p style='text-align: center;'>Résultats</p>";
          displayHtml += "<br>";
          displayHtml += "<p> Les scores vont de 0 (faible niveau qualité de vie) à 100 (niveau très élevé).</p>"; 
          displayHtml += "<ul class='myList'>";
          displayHtml += "<li>Santé Générale (GH) : " + scoreGH.toFixed(2) + "</li>";
          displayHtml += "<li>Activité physique (PF) : " + scorePF.toFixed(2) + "</li>";
          displayHtml += "<li>Limitations dues à l’état physique (RP) : " + scoreRP.toFixed(2) + "</li>";
          displayHtml += "<li>Douleurs physiques (BP) : " + scoreBP.toFixed(2) + "</li>";
          displayHtml += "<li>Vitalité (VT) : " + scoreVT.toFixed(2) + "</li>";
          displayHtml += "<li>Vie et relation avec les autres (SF) : " + scoreSF.toFixed(2) + "</li>";
          displayHtml += "<li>Limitations dues à l’état psychique (RE) : " + scoreRE.toFixed(2) + "</li>";
          displayHtml += "<li>Santé psychique (MH) : " + scoreMH.toFixed(2) + "</li>";
          displayHtml += "</ul>";

          document.getElementById("result").innerHTML = displayHtml;
          document.getElementById("result").style.display = "block";

    }
    function resetForm() {
        document.getElementById("SF8").reset();
        const resultsDiv = document.getElementById("result");
        resultsDiv.innerHTML = "";
        resultsDiv.style.display = "none";
    }

</script>
</body>
</html>



