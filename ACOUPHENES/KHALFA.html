<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KHALFA</title>
    <style>

      body {
        font-family: Montserrat, sans-serif;

      }


      .question {
        margin-bottom: 15px;
      }


      table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
      }

      th,
      td {
        border: 1px solid black !important;
        padding: 10px;
        text-align: left;
        color: black !important;
      }

      th {
        background-color: #eeeeee;
      }


      input[type="radio"] {
        display: flex;
        align-items: center; 
        justify-content: center; 
        margin: 0 auto; 
      }


      .buttons-container {
        text-align: center;
        margin-top: 30px;
      }
      .buttons-container button {
        padding: 12px 25px;
        margin: 0 10px;
        font-size: 17px;
        cursor: pointer;
        border: none;
        border-radius: 5px;
        background-color: #eeeeee;

      }

      .buttons-container button:hover {
        background-color: #0056b3;
        color : white;
      }

      #result { /* Correction ici : cibler l'ID directement */
        text-align: center;
        font-size: 20px;
        margin-top: 30px;
        border: 1px solid #eeeeee;
        background-color: #eeeeee;
        padding: 15px;
        display: none;
        border-radius: 5px;
        padding: 15px;
        display:none;
      }

    </style>
  </head>
  <body>
    <h1 style="text-align: center;">Questionnaire de sensibilité auditive (hyperacousie)</h1>
    <p style="text-align: center;">Khalfa, 2022</p>

    <br>

    <form id="hyperacousie-form">
      <table>
        <thead>
          <tr>
            <th style="width: 400px;">Questions</th>
            <th style="text-align: center; width: 70px;">Non</th>
            <th style="text-align: center; width: 70px;">Oui<br> un peu</th>
            <th style="text-align: center; width: 70px;">Oui modérément</th>
            <th style="text-align: center; width: 70px;">Oui beaucoup</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Vous arrive-t-il d'utiliser des bouchons, boules Quiès, pour limiter votre perception du bruit?</td>
            <td><input type="radio" name="hq1" value="0"></td>
            <td><input type="radio" name="hq1" value="1"></td>
            <td><input type="radio" name="hq1" value="2"></td>
            <td><input type="radio" name="hq1" value="3"></td>
          </tr>
          <tr>
            <td>Avez-vous des difficultés à ne plus faire attention aux sons qui vous entourent dans les situations de la vie quotidienne ?</td>
            <td><input type="radio" name="hq2" value="0"></td>
            <td><input type="radio" name="hq2" value="1"></td>
            <td><input type="radio" name="hq2" value="2"></td>
            <td><input type="radio" name="hq2" value="3"></td>
          </tr>
          <tr>
            <td>Êtes-vous gêné(e) pour lire dans un environnement bruyant ou sonore ?</td>
            <td><input type="radio" name="hq3" value="0"></td>
            <td><input type="radio" name="hq3" value="1"></td>
            <td><input type="radio" name="hq3" value="2"></td>
            <td><input type="radio" name="hq3" value="3"></td>
          </tr>
          <tr>
            <td>Êtes-vous gêné(e) pour vous concentrer dans un environnement bruyant ?</td>
            <td><input type="radio" name="hq4" value="0"></td>
            <td><input type="radio" name="hq4" value="1"></td>
            <td><input type="radio" name="hq4" value="2"></td>
            <td><input type="radio" name="hq4" value="3"></td>
          </tr>
          <tr>
            <td>Éprouvez-vous des difficultés pour entendre une conversation au milieu d'un environnement bruyant ?</td>
            <td><input type="radio" name="hq5" value="0"></td>
            <td><input type="radio" name="hq5" value="1"></td>
            <td><input type="radio" name="hq5" value="2"></td>
            <td><input type="radio" name="hq5" value="3"></td>
          </tr>
          <tr>
            <td>Certaines personnes de votre entourage vous ont-elles déjà fait remarquer que vous supportez mal le bruit ou certains sons ?</td>
            <td><input type="radio" name="hq6" value="0"></td>
            <td><input type="radio" name="hq6" value="1"></td>
            <td><input type="radio" name="hq6" value="2"></td>
            <td><input type="radio" name="hq6" value="3"></td>
          </tr>
          <tr>
            <td>Êtes-vous particulièrement dérangé(e), voire gêné(e), par le bruit de la rue ?</td>
            <td><input type="radio" name="hq7" value="0"></td>
            <td><input type="radio" name="hq7" value="1"></td>
            <td><input type="radio" name="hq7" value="2"></td>
            <td><input type="radio" name="hq7" value="3"></td>
          </tr>
          <tr>
            <td>Le bruit dans certaines situations sociales (boîtes de nuit, bars, concerts, feux d'artifices, cocktails...) vous est-il pénible ?</td>
            <td><input type="radio" name="hq8" value="0"></td>
            <td><input type="radio" name="hq8" value="1"></td>
            <td><input type="radio" name="hq8" value="2"></td>
            <td><input type="radio" name="hq8" value="3"></td>
          </tr>
          <tr>
            <td>Si l'on vous propose une activité (sortie, cinéma, concert) pensez-vous tout de suite au bruit que vous aurez à supporter ?</td>
            <td><input type="radio" name="hq9" value="0"></td>
            <td><input type="radio" name="hq9" value="1"></td>
            <td><input type="radio" name="hq9" value="2"></td>
            <td><input type="radio" name="hq9" value="3"></td>
          </tr>
          <tr>
            <td>Vous arrive-t-il de refuser des invitations ou des sorties par crainte du bruit que vous aurez à supporter ?</td>
            <td><input type="radio" name="hq10" value="0"></td>
            <td><input type="radio" name="hq10" value="1"></td>
            <td><input type="radio" name="hq10" value="2"></td>
            <td><input type="radio" name="hq10" value="3"></td>
          </tr>
          <tr>
            <td>Est-ce qu'un bruit ou un son précis vous dérange plus dans une atmosphère silencieuse que dans une pièce légèrement bruyante ?</td>
            <td><input type="radio" name="hq11" value="0"></td>
            <td><input type="radio" name="hq11" value="1"></td>
            <td><input type="radio" name="hq11" value="2"></td>
            <td><input type="radio" name="hq11" value="3"></td>
          </tr>
          <tr>
            <td>Votre capacité de concentration dans le bruit est-elle diminuée par le stress ou la fatigue ?</td>
            <td><input type="radio" name="hq12" value="0"></td>
            <td><input type="radio" name="hq12" value="1"></td>
            <td><input type="radio" name="hq12" value="2"></td>
            <td><input type="radio" name="hq12" value="3"></td>
          </tr>
          <tr>
            <td>Votre capacité de concentration dans le bruit est-elle diminuée en fin de journée ?</td>
            <td><input type="radio" name="hq13" value="0"></td>
            <td><input type="radio" name="hq13" value="1"></td>
            <td><input type="radio" name="hq13" value="2"></td>
            <td><input type="radio" name="hq13" value="3"></td>
          </tr>
          <tr>
            <td>Est-ce que le bruit ou certains sons vous stressent ou vous énervent ?</td>
            <td><input type="radio" name="hq14" value="0"></td>
            <td><input type="radio" name="hq14" value="1"></td>
            <td><input type="radio" name="hq14" value="2"></td>
            <td><input type="radio" name="hq14" value="3"></td>
          </tr>
        </tbody>
      </table>

      <div class="buttons-container">
        <button type="button" onclick="calculateScoreHyperacousie()">Calculer le Score</button>
        <button type="reset" onclick="resetFormHyperacousie()">Réinitialiser</button>
      </div>


      <div id="result"></div>

    </form>

    <script>
      function calculateScoreHyperacousie() {
        const form = document.getElementById("hyperacousie-form");
        let score_hyperacousie = 0;

        for (let i = 1; i <= 14; i++) {
          const question = form.elements["hq" + i];
          for (let j = 0; j < question.length; j++) {
            if (question[j].checked) {
              score_hyperacousie += parseInt(question[j].value);
              break;
            }
          }
        }

        displayResult_hyperacousie(score_hyperacousie);
      }

      function displayResult_hyperacousie(score_hyperacousie) {
        let result = "Le score est : " + score_hyperacousie + ". Ceci indique une";

        if (score_hyperacousie >= 0 && score_hyperacousie <= 14) {
          result += " gêne légère ou négligeable.";
        } else if (score_hyperacousie >= 15 && score_hyperacousie <= 28) {
          result += " gêne modérée.";
        } else if (score_hyperacousie >= 29 && score_hyperacousie <= 42) {
          result += " gêne importante.";
        }

        document.getElementById("result").innerHTML = result;
        document.getElementById("result").style.display = "block";
      }

      function resetFormHyperacousie() {
        document.getElementById("hyperacousie-form").reset();
        document.getElementById("result").innerHTML = "";
        document.getElementById("result").style.display = "none";
      }
    </script>

  </body>
</html>

