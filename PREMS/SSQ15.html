<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSQ15</title>
    <style>
      body {
        font-family: Montserrat, sans-serif;
        color: black;

      }
      
      p,
      h1 {
        text-align:center;}


     table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
        margin-left: auto;
        margin-right: auto;

      }

      td {
        border: 1px solid black !important;
        border-bottom: 1px solid black !important; 
        padding: 8px;
        text-align: left;
      }


      .na-checkbox {
        text-align: center;
        width: 110px;

      }

      .slider {
        width: 100%;
        background: #ddd;
        height: 10px;
        border-radius:5px; 
        outline: 0; 

      }

      .slider:hover {
        opacity: 2;
      }

      .slider-label {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 110px;
        margin-bottom: 20px;
        font-size: 6px;
      }


      .buttons-container {
        text-align: center;
        margin-top: 30px;
      }
      .buttons-container button {
        padding: 12px 25px;
        margin: 0 10px;
        font-size: 17px;
        cursor: pointer;
        border: none;
        border-radius: 5px;
        background-color: #eeeeee;

      }

      .buttons-container button:hover {
        background-color: #0056b3;
        color : white;
      }

      #result { /* Correction ici : cibler l'ID directement */
        text-align: center;
        font-size: 20px;
        margin-top: 30px;
        border: 1px solid #eeeeee;
        background-color: #eeeeee;
        padding: 15px;
        display: none;
        border-radius: 5px;
        padding: 15px;
        display:none;
      }

      ul.myList {
        display: inline-block;
        text-align: left;
      }



    </style>
  </head>

  <body>
    <h1>SSQ15</h1>
    <p>Moulin et Richard, 2016</p>
    <p><b>Conseil pour répondre aux questions</b></p>
    <p>Les questions suivantes concernent votre capacité et votre expérience en matière d’audition et d’écoute dans le cadre de
      situations diverses.<br><br>
      Déplacez le curseur (ou slider) situé à droite de chacune des questions, à l’endroit adéquat entre le 0 et le 10. Si le curseur se trouve au niveau de la valeur 10, cela signifie que vous êtes parfaitement capable de faire ou d’expérimenter ce qui est décrit dans la question correspondante. Si le curseur se trouve sur le 0, cela indique que vous n’êtes pratiquement pas en mesure de faire
      ni d’expérimenter ce qui est décrit.<br><br>

      <b>Nous espérons que toutes les questions sont pertinentes au regard de votre vie quotidienne.</b> Si ce n’est pas le cas
      pour certaines questions, veuillez cocher la case « non applicable » (NA).</p>

    <br>

    <form id="ssq15-form">

      <h3> 1ère partie : Audition de la parole </h3>

      <table>
        <thead>
        </thead>
        <tbody>
          <tr>
            <td style="text-align:left; width:400px;">
              1. Pouvez-vous avoir une conversation avec une personne si une autre personne ayant la voix aussi aigue ou grave
              que celle de votre interlocuteur parle en même temps ?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Pas du tout</span>
                <span>Parfaitement</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q1">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q1_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
          <tr>
            <td style="text-align:left; width:400px;">
              2. Vous êtes assis entre deux personnes. L’une d’elles commence à parler. Pouvez-vous dire immédiatement sans
              regarder s’il s’agit de la personne assise à votre gauche ou à votre droite ?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Pas du tout</span>
                <span>Parfaitement</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q2">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q2_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
          <tr>
            <td style="text-align:left; width:400px;">
              3. Pouvez-vous indiquer immédiatement à quelle distance se trouve un bus ou un camion, juste en entendant le
              bruit qu’il fait ?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Pas du tout</span>
                <span>Parfaitement</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q3">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q3_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
          <tr>
            <td style="text-align:left; width:400px;">
              4. Les bruits quotidiens que vous entendez facilement sont-ils distincts (non brouillés)?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Pas du tout</span>
                <span>Parfaitement</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q4">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q4_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
          <tr>
            <td style="text-align:left; width:400px;">
              5. Devez-vous vous concentrer intensément lorsque vous écoutez quelqu’un ou quelque chose ?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Concentration intense</span>
                <span>Pas de concentration</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q5">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q5_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
        </tbody>
      </table>

      <h3> 2e partie : Audition spatiale </h3>

      <table>
        <thead>
        </thead>
        <tbody>
          <tr>
            <td style="text-align:left; width:400px;">
              6. Pouvez-vous avoir une conversation avec une personne si une autre personne ayant la voix aussi aigue ou grave
              que celle de votre interlocuteur parle en même temps ?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Pas du tout</span>
                <span>Parfaitement</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q6">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q6_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
          <tr>
            <td style="text-align:left; width:400px;">
              7. Vous êtes assis entre deux personnes. L’une d’elles commence à parler. Pouvez-vous dire immédiatement sans
              regarder s’il s’agit de la personne assise à votre gauche ou à votre droite ?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Pas du tout</span>
                <span>Parfaitement</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q7">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q7_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
          <tr>
            <td style="text-align:left; width:400px;">
              8. Pouvez-vous indiquer immédiatement à quelle distance se trouve un bus ou un camion, juste en entendant le
              bruit qu’il fait ?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Pas du tout</span>
                <span>Parfaitement</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q8">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q8_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
          <tr>
            <td style="text-align:left; width:400px;">
              9. Les bruits quotidiens que vous entendez facilement sont-ils distincts (non brouillés)?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Pas du tout</span>
                <span>Parfaitement</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q9">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q9_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
          <tr>
            <td style="text-align:left; width:400px;">
              10. Devez-vous vous concentrer intensément lorsque vous écoutez quelqu’un ou quelque chose ?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Concentration intense</span>
                <span>Pas de concentration</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q10">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q10_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
        </tbody>
      </table>

      <h3> 3e partie : Qualité d’audition </h3>

      <table>
        <thead>
        </thead>
        <tbody>
          <tr>
            <td style="text-align:left; width:400px;">
              11. Pouvez-vous avoir une conversation avec une personne si une autre personne ayant la voix aussi aigue ou grave
              que celle de votre interlocuteur parle en même temps ?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Pas du tout</span>
                <span>Parfaitement</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q11">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q11_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
          <tr>
            <td style="text-align:left; width:400px;">
              12. Vous êtes assis entre deux personnes. L’une d’elles commence à parler. Pouvez-vous dire immédiatement sans
              regarder s’il s’agit de la personne assise à votre gauche ou à votre droite ?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Pas du tout</span>
                <span>Parfaitement</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q12">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q12_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
          <tr>
            <td style="text-align:left; width:400px;">
              13. Pouvez-vous indiquer immédiatement à quelle distance se trouve un bus ou un camion, juste en entendant le
              bruit qu’il fait ?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Pas du tout</span>
                <span>Parfaitement</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q13">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q13_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
          <tr>

          <tr>
            <td style="text-align:left; width:400px;">
              14. Les bruits quotidiens que vous entendez facilement sont-ils distincts (non brouillés)?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Pas du tout</span>
                <span>Parfaitement</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q14">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q14_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
          <tr>

          <tr>
            <td style="text-align:left; width:400px;">
              15. Devez-vous vous concentrer intensément lorsque vous écoutez quelqu’un ou quelque chose ?
            </td>
            <td style="text-align:center; width:400px;">
              <div style="display:flex; justify-content:space-between;">
                <span>Concentration intense</span>
                <span>Pas de concentration</span>
              </div>
              <input type="range" min="0" max="10" step="0.1" value="5" class="slider" id="q15">
              <div style="display:flex; justify-content:space-between;">
                <span>0</span>
                <span>1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>5</span>
                <span>6</span>
                <span>7</span>
                <span>8</span>
                <span>9</span>
                <span>10</span>
              </div>
            </td>
            <td class="na-checkbox">
              <input type="checkbox" id="q15_na">
              <span style="float: right;">Non appliquable</span>
            </td>
          </tr>
          <tr>

        </tbody>
      </table>

      <div class="buttons-container">
        <button type="button" onclick="calculerScores()">Calculer les scores</button>
        <button type="reset" onclick="resetForm()">Réinitialiser</button>
      </div>

    </form>

    <div id="result"></div>

    <script>
      function calculerScores() {
        let total     	= 0;
        let parole    	= 0;
        let spatial 	= 0;
        let qualite 	= 0;

        let count_Na_total      = 0;
        let count_Na_parole    	= 0;
        let count_Na_spatial    = 0;
        let count_Na_qualite    = 0


        // Slider and Na id
        const sliderIds = ["q1", "q2", "q3", "q4", "q5", "q6", "q7", "q8", "q9", "q10", "q11", "q12","q13","q14","q15"];
        const naCheckboxIds = ["q1_na", "q2_na", "q3_na", "q4_na", "q5_na", "q6_na", "q7_na", "q8_na", "q9_na", "q10_na", "q11_na", "q12_na","q13_na","q14_na","q15_na"];



        // Boucle total
        for (let i = 0; i < sliderIds.length; i++) {
          const sliderId = sliderIds[i];
          const naCheckboxId = naCheckboxIds[i];
          const slider = document.getElementById(sliderId);
          const naCheckbox = document.getElementById(naCheckboxId);
          if (naCheckbox.checked) {
            count_Na_total++;
          } else {
            total += parseFloat(slider.value, 10);
          }
        } // end total loop


        // Boucle parole
        for (let i = 0; i < 5; i++) {
          const slider = document.getElementById(sliderIds[i]);
          const naCheckbox = document.getElementById(naCheckboxIds[i]);
          if (naCheckbox.checked) {
            count_Na_parole++;
          } else {
            parole += parseFloat(slider.value, 10);
          }
        } // end parole loop


        // Boucle spatial
        for (let i = 5; i < 10; i++) {
          const slider = document.getElementById(sliderIds[i]);
          const naCheckbox = document.getElementById(naCheckboxIds[i]);
          if (naCheckbox.checked) {
            count_Na_spatial++;
          } else {
            spatial += parseFloat(slider.value, 10);
          }
        } // end spatial loop


        // Boucle qualite
        for (let i = 10; i < 15; i++) {
          const slider = document.getElementById(sliderIds[i]);
          const naCheckbox = document.getElementById(naCheckboxIds[i]);
          if (naCheckbox.checked) {
            count_Na_qualite++;
          } else {
            qualite += parseFloat(slider.value, 10);
          }
        } // end qualite loop


        // Compute average scores
        total = total / (15 - count_Na_total);
        parole = parole / (5 - count_Na_parole);
        spatial = spatial / (5 - count_Na_spatial);
        qualite = qualite / (5 - count_Na_qualite);

        displayscores(total, parole, spatial,qualite);}


      function displayscores(total, parole, spatial,qualite) {


        let display = "<p style='text-align: center;'>Résultats</p>";
        display += "<br>"; 
        display += "<ul class='myList'>"; 
        display += "<li>Score total : " + total.toFixed(2) + "</li>";
        display += "<li>Audition de la parole : " + parole.toFixed(2) + "</li>";
        display += "<li>Audition spatiale : " + spatial.toFixed(2) + "</li>";
        display += "<li>Qualité d’audition : " + qualite.toFixed(2) + "</li>";
        display += "</ul>";
        document.getElementById("result").innerHTML = display;
        document.getElementById("result").style.display = "block";



      } // end function


      function resetForm() {
        document.getElementById("ssq15-form").reset();
        document.getElementById("result").innerHTML = "";
        document.getElementById("result").style.display = "none";
      } // end function
    </script>
  </body>

</html>
